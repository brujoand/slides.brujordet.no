<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <title>JavaZone 2020</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../reveal.js/dist/reset.css">
  <link rel="stylesheet" href="../reveal.js/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #cccccc; background-color: #222222; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ffcfaf; } /* Alert */
    code span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
    code span.at { } /* Attribute */
    code span.bn { color: #dca3a3; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #f0dfaf; } /* ControlFlow */
    code span.ch { color: #dca3a3; } /* Char */
    code span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
    code span.co { color: #7f9f7f; } /* Comment */
    code span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
    code span.do { color: #7f9f7f; } /* Documentation */
    code span.dt { color: #dfdfbf; } /* DataType */
    code span.dv { color: #dcdccc; } /* DecVal */
    code span.er { color: #c3bf9f; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #c0bed1; } /* Float */
    code span.fu { color: #efef8f; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #7f9f7f; font-weight: bold; } /* Information */
    code span.kw { color: #f0dfaf; } /* Keyword */
    code span.op { color: #f0efd0; } /* Operator */
    code span.ot { color: #efef8f; } /* Other */
    code span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
    code span.sc { color: #dca3a3; } /* SpecialChar */
    code span.ss { color: #cc9393; } /* SpecialString */
    code span.st { color: #cc9393; } /* String */
    code span.va { } /* Variable */
    code span.vs { color: #cc9393; } /* VerbatimString */
    code span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="../reveal.js/dist/theme/brujoand.css" id="theme">
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">JavaZone 2020</h1>
</section>

<section id="section" class="slide level1" data-background-image="static/soria_moria.jpg" style="color:LightGray">
<h1 data-background-image="static/soria_moria.jpg" style="color:LightGray"></h1>
<h2 class="slide:" style="color:Black" id="building-a-delivery-platform">BUILDING A DELIVERY PLATFORM</h2>
<p></br> </br> </br></p>
<aside class="notes">
<ul>
<li>Hi, my name is Anders and I work with DevOps tooling at Piano here in Oslo</li>
<li>I want to talk to you about delivery, and delivery automation today</li>
</ul>
</aside>
</section>
<section id="section-1" class="slide level1" data-background-image="static/soria_moria_faded.jpg">
<h1 data-background-image="static/soria_moria_faded.jpg"></h1>
<h2 id="what-i-want-to-talk-about">What I want to talk about</h2>
<ol type="1">
<li>What is a Delivery Platform?</li>
<li>How do we build a Delivery Platform?</li>
</ol>
<aside class="notes">
<ul>
<li>So we’ll look at:</li>
<li>What is a Delivery Platform?</li>
<li>And how do we build one?</li>
</ul>
</aside>
</section>
<section id="section-2" class="slide level1" data-background-image="static/containers_faded.jpg">
<h1 data-background-image="static/containers_faded.jpg"></h1>
<h2 id="what-is-a-delivery-platform">What is a Delivery Platform?</h2>
<p>Let’s start by looking at Delivery Automation</p>
<aside class="notes">
<ul>
<li>We’ll start by looking at Delivery Automation in general</li>
<li>By this I mean, automating the process of getting source code into production</li>
<li>Let’s look at some examples of delivery automation</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="knowits-delivery-automation">Knowit’s Delivery Automation</h2>
<img data-src="static/delivery_knowit.png" class="stretch" />
<aside class="notes">
<ul>
<li>So I worked at knowit as a consultant in 2011. Our project was building an integration bus for the municipality</li>
<li>We had a pretty hip setup for the time, with a monorepo and a up to date Java version.</li>
<li>So here we see, Hudson, the build server checks for commits in Github. If a change is found it builds it and publishes the artifact to Nexus.</li>
<li>We then invoked some Ruby scripts that fetched artifacts from Nexus and deployed them to dev or production. This is the brain of the operation.</li>
<li>In addition we had puppet for configuration, and Nagios for monitoring</li>
<li>This worked great!</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="finns-delivery-automation">Finn’s Delivery Automation</h2>
<img data-src="static/delivery_finn.png" class="stretch" />
<aside class="notes">
<ul>
<li>In 2014 I joined Finn who had an ever more polished and customized Delivery System</li>
<li>They had their own tool, Finnbuild which could run both locally and on bamboo. It would let you build any Finn project just by issuing ‘Finnbuild build’.</li>
<li>Like at Knowit, any change would get picked up, built, tested and uploaded to nexus.</li>
<li>Then another homegrown tool, Pipeline would present a visual pipeline which would allow you to deploy to test, and later production.</li>
<li>This worked primarily for JVM projects, but as I left Finn support for containers were also in the works.</li>
<li>Finnbuild and Pipeline were the brains of this setup</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="schibsteds-delivery-platform">Schibsted’s Delivery Platform</h2>
<img data-src="static/delivery_schibsted.png" class="stretch" />
<aside class="notes">
<ul>
<li>When I joined Schibsted in 2016 we set out to create a global Delivery Platform for about 1500 developers.</li>
<li>Right of the bat there is a subtle difference here if we compare to Finn and Knowit. This system doesn’t have a central custom ‘brain’. Instead it’s a sequential line of events. We’ll get back to why that’s important later.</li>
<li>But as we can see Github notifies Travis of new commits, who in turn builds, tests and uploads the artifacts. Spinnaker is then notified about the new artifact and deploys them.</li>
<li>Because of the diverse tech stacks, a custom brain just wouldn’t be feasible. It would be too complex.</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="what-enabled-these-setups">What enabled these setups?</h2>
<ul>
<li>Strong engineers</li>
<li>Focus on best practices and continuous improvements</li>
<li>Support from management</li>
</ul>
<aside class="notes">
<ul>
<li>But all of these are pretty cool right?</li>
<li>What enabled these companies to tailor their delivery process in this way?</li>
<li>They had strong engineers with high nerd factor</li>
<li>There was also a heavy focus on continuous improvements</li>
<li>And Management understood the benefits of a good delivery process</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="what-are-these-benefits">What are these benefits?</h2>
<ul>
<li>Automated Delivery
<ul>
<li>Productivity++</li>
<li>Trust++</li>
</ul></li>
<li>Short feedback loops
<ul>
<li>Productivity++</li>
<li>More engaged product teams</li>
</ul></li>
</ul>
<aside class="notes">
<ul>
<li>So what benefits did these setups bring?</li>
<li>First of all automating delivery means less distractions, and more productivity. And when you can trust this automation it gives security.</li>
<li>Short feedback loops let’s you fix problems when they are fresh in your mind, which again increases productivity.</li>
<li>All of this also allows product to come closer to developers as Proof of Concept development is quick.</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="so-did-these-companies-have-delivery-platforms">So did these companies have Delivery Platforms?</h2>
<img data-src="static/devops_cloud.png" title="fig:" class="stretch" alt="DevOps_cloud" />
<aside class="notes">
<ul>
<li>Well, yes and no</li>
<li>Knowit, Finn and Schibsted all had good tools that automated the Delivery process</li>
<li>The difference is is how these tools are connected</li>
<li>To understand this, we need to look at what these tools are are doing</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="lets-look-at-what-these-tools-are-doing">Let’s look at what these tools are doing</h2>
<ul>
<li>Development loop</li>
<li>Deployment loop</li>
<li>Monitoring loop</li>
</ul>
<aside class="notes">
<ul>
<li>We basically have three loops here</li>
<li>Development, deployment and monitoring</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="development-loop">Development loop</h2>
<img data-src="static/development_loop.png" class="stretch" />
<aside class="notes">
<ul>
<li>The development loop starts by pushing some code change</li>
<li>We build it</li>
<li>We test it</li>
<li>We Validate it using some static code analysis or security check</li>
<li>If all is good, upload the built artifact</li>
<li>If not, repeat the loop</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="deployment-loop">Deployment loop</h2>
<img data-src="static/deployment_loop.png" class="stretch" />
<aside class="notes">
<ul>
<li>So we started with the development loop</li>
<li>Then we deploy the built artifact</li>
<li>We run integration tests or manual tests</li>
<li>Then we verify based on the results or a manual judgment</li>
<li>And finally we deploy to production or go back to development</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="monitoring-loop">Monitoring loop</h2>
<img data-src="static/monitoring_loop.png" class="stretch" />
<aside class="notes">
<ul>
<li>We started with development loop</li>
<li>Then we had the deployment loop</li>
<li>Now we monitor and watch for problems</li>
<li>This could be runtime errors, vulnerabilities and so forth..</li>
<li>When a problem occurs, we alert and maybe we rollback</li>
<li>In any case we go back to the development loop and start over</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="the-delivery-automation-system">The Delivery Automation System</h2>
<img data-src="static/delivery_loop.png" class="stretch" />
<aside class="notes">
<ul>
<li>So basically we have a loop of loops here</li>
<li>This is what I call the Delivery Automation System</li>
<li>Everything is chained together nicely</li>
<li>All the steps are automated from src to prod</li>
<li>Basically what Knowit &amp; Finn had</li>
<li>This is often implemented as a black box, that ‘fixes CI/CD’ as there is a custom brain that knows how our tooling should be connected.</li>
<li>For knowit this was some ruby scripts, for Finn it was Finnbuild and the Pipeline tool. Both of these had custom ‘brains’ that controlled the workflow.</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="when-a-das-is-perfect">When a DAS is perfect</h2>
<aside class="notes">
<ul>
<li>For Knowit a DAS was perfect. The code was mostly Java and kept in a monorepo which was deployed to the same servers.</li>
<li>This is where a DAS shines, and allowed for lot’s of optimizations</li>
<li>Finn had more diversity and their DAS was starting to get a lot of additions. This meant that the tooling grew in complexity and they were basically in a process of creating a Delivery Platform when I left.</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="when-a-delivery-platform-shines">When a Delivery Platform shines</h2>
<aside class="notes">
<ul>
<li>For Schibsted, the DAS just couldn’t work. As you might now, Schibsted is made up of several news sites and marketplaces around the world. And thus there is a lot of diversity between these sites.</li>
<li>We had different languages, build tools, artifact types, deployment targets and for a Delivery Platform this works just great as we’ll see.</li>
<li>If you keep adding new tools and support new tech stacks and deployment targets in a custom brain for delivery it will eventual become too complex and impossible to maintain.</li>
<li>If this sounds familiar a Delivery Platform might be a good next step for your organization. So let’s look at how that journey could be made.</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="from-a-das-to-platform">From a DAS to Platform</h2>
<img data-src="static/blackbox_1.png" class="stretch" />
<aside class="notes">
<ul>
<li>There are different ways this could be connected</li>
<li>Maybe the DAS checks for new code, or may there is a webhook.</li>
<li>But we need to make sure that there is a uniform interface here</li>
<li>I’ve drawn the entire DAS inside the black box here, as there is usually only custom integrations between the tools. Meaning we can’t make any general assumptions about how they are connected.</li>
<li>If that’s not the case for you, then you’re already on your way!</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="from-a-das-to-platform-1">From a DAS to Platform</h2>
<img data-src="static/blackbox_2.png" class="stretch" />
<aside class="notes">
<ul>
<li>Let’s say that we use Github for source code</li>
<li>We define an integration rule that when source code wants to be built, our black box must get a webhook.</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="from-a-das-to-platform-2">From a DAS to Platform</h2>
<img data-src="static/blackbox_3.png" class="stretch" />
<aside class="notes">
<ul>
<li>Again let’s assume we have Jenkins for builds</li>
<li>Jenkins should now own the webhook interface from source code</li>
<li>And our next rule is that every build uploads a semantically versioned artifact</li>
<li>Great, our black box is shrinking.</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="from-a-das-to-platform-3">From a DAS to Platform</h2>
<img data-src="static/blackbox_4.png" class="stretch" />
<aside class="notes">
<ul>
<li>Okay, so let’s use Nexus for Artifacts</li>
<li>And our next rule is that when a new artifact is uploaded, we send an event to the black box to trigger deployment.</li>
<li>Our black box now only deals with deployment</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="from-a-das-to-platform-4">From a DAS to Platform</h2>
<img data-src="static/blackbox_5.png" class="stretch" />
<aside class="notes">
<ul>
<li>finally, we add Spinnaker for deployments and our black box is gone</li>
<li>Now we have a set of services, that are bound by clear rules</li>
<li>In theory, this means that any part of our tooling can be replaced, as long as the new tool abides by these rules.</li>
<li>So let’s onboard some teams from other parts of our organization.</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="from-a-das-to-chaos">From a DAS to chaos?</h2>
<img data-src="static/blackbox_6.png" class="stretch" />
<aside class="notes">
<ul>
<li>Oh no, what happened to our nice graph? :(</li>
<li>One team is using stash, which is fine as they hook into Jenkins.</li>
<li>One team uses Gitlab, again fine as they upload to Nexus.</li>
<li>One team is deploying to AWS, another to Bare Metal all fine as Spinnaker supports these targets.</li>
<li>And in our case of Spinnaker, we can even have a unified UI that visualizes all of these different build pipelines.</li>
<li>Instead of a complex black box, we have simple rules that allow for complex graphs.</li>
<li>Change is now a much much easier, because we removed the black box</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="the-magic-is-in-the-glue-not-the-tools">The magic is in the glue, not the tools</h2>
<aside class="notes">
<ul>
<li>A Delivery Platform doesn’t care which build tool you use</li>
<li>And neither should you.</li>
<li>We want to be able to change quickly, not dig deeper holes.</li>
<li>So we create glue by defining rules of interaction</li>
</ul>
</aside>
</section>
<section class="slide level1">

<table>
<thead>
<tr class="header">
<th>Platform</th>
<th>DAS</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Opt-in</td>
<td>Opt-out</td>
</tr>
<tr class="even">
<td>Loose coupling</td>
<td>Tight coupling</td>
</tr>
<tr class="odd">
<td>Individual pipelines</td>
<td>Shared pipelines</td>
</tr>
<tr class="even">
<td>Self served</td>
<td>Traditional SaaS</td>
</tr>
<tr class="odd">
<td>Dedicated Team</td>
<td>Collective effort</td>
</tr>
</tbody>
</table>
<aside class="notes">
<ul>
<li>Now this looks very clear cut, which is never the case with these things.</li>
<li>But a platform is usually opt in, loosely coupled, customizable and self served with dedicated support.</li>
<li>Where as a Delivery Automation System is typically enabled by default, tightly coupled with the tools and hard to customize.</li>
<li>But at the bottom we see one of the main problems here</li>
<li>The DAS is basically a SaaS, but it’s usually not owned by one team, instead it’s often a collaborative effort which means it tends to acquire a lot of technical debt.</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="a-delivery-platform-is..">A Delivery Platform is..</h2>
<p>.. a <strong>customizable</strong> set of <strong>services</strong> that can be <strong>composed</strong> through <strong>well defined rules</strong> into a <strong>pipeline</strong> that builds, verifies and deploys source code in a <strong>secure</strong>, <strong>predictable</strong> and <strong>repeatable</strong> manner with <strong>sane defaults</strong>.</p>
<aside class="notes">
<ul>
<li>So to wrap up this part, I’ll let you read the definition &lt; let them read the slide &gt;</li>
<li>Or in keywords for those who hate walls of text, like me</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="or-to-summarize">Or to summarize</h2>
<p>A test, build and deployment process which is: - Customizable - Secure - Predicable - Has sane defaults</p>
<aside class="notes">
<ul>
<li>Hopefully this has given us a common ground to build on.</li>
<li>What I really want you to understand here is the difference between a Delivery Platform and the more common Delivery Automation System and how they both are good approaches but shine in different scenarios.</li>
</ul>
</aside>
</section>
<section id="section-3" class="slide level1" data-background-image="static/soria_moria_faded.jpg">
<h1 data-background-image="static/soria_moria_faded.jpg"></h1>
<h2 id="building-a-delivery-platform-1">Building a Delivery Platform</h2>
<h3 id="the-profit-and-pain">The profit and pain</h3>
<aside class="notes">
<ul>
<li>Right, so finally, how do we build one?</li>
</ul>
</aside>
</section>
<section id="section-4" class="slide level1" data-background-image="static/map_help.jpg" style="color:black">
<h1 data-background-image="static/map_help.jpg" style="color:black"></h1>
<aside class="notes">
<ul>
<li>Step one: figure out where we are!</li>
<li>What is the current situation in our company?</li>
<li>What works, what doesn’t?</li>
<li>What is currently causing the most pain?</li>
<li>Where can we add the most value?</li>
<li>Who can help us build this?</li>
<li>Do we have backing to do this?</li>
</ul>
</aside>
</section>
<section id="section-5" class="slide level1" data-background-image="static/map_help_faded.jpg">
<h1 data-background-image="static/map_help_faded.jpg"></h1>
<h2 id="define-our-current-state">Define our current state</h2>
<aside class="notes">
<ul>
<li>Interview people from everywhere in the organization</li>
<li>Developers, Infrastructure, Managers, Product, Maybe even customers?</li>
<li>What are their thoughts on how we deliver software?</li>
<li>Where do they feel that we are?</li>
<li>Do they all agree? Usually, not.</li>
</ul>
</aside>
</section>
<section id="section-6" class="slide level1" data-background-image="static/map_help_faded.jpg">
<h1 data-background-image="static/map_help_faded.jpg"></h1>
<h2 id="what-are-we-looking-for">What are we looking for?</h2>
<aside class="notes">
<ul>
<li>So what are we looking for here?</li>
<li>We want to know What should we support by default</li>
<li>Where we can give the most value</li>
<li>We want to Identify what teams can collaborate, and share tooling or customizations</li>
<li>And we want to Identify and help mitigate political/personal issues between teams</li>
</ul>
</aside>
</section>
<section id="section-7" class="slide level1" data-background-image="static/map_help_faded.jpg">
<h1 data-background-image="static/map_help_faded.jpg"></h1>
<h2 id="so-am-i-a-team-friendship-coach-now">So am I a team friendship coach now?</h2>
<p>Yes, kind of..</p>
<aside class="notes">
<ul>
<li>If the teams are not cooperating you will be blocked by discussions and support.</li>
<li>If teams are collaborating, they will support each other.</li>
<li>Support and on boarding is by far the most expensive work in this process.</li>
</ul>
</aside>
</section>
<section id="section-8" class="slide level1" data-background-image="static/map_help_faded.jpg">
<h1 data-background-image="static/map_help_faded.jpg"></h1>
<h2 id="gather-data">Gather data</h2>
<aside class="notes">
<ul>
<li>Step two</li>
<li>Start gathering metrics to visualize what you’ve learned from the interviews</li>
<li>Did the metrics confirm or deny what you learned?</li>
<li>Let’s put this data in a dashboard.</li>
<li>One episode, where we added data from SonarQube. It showed a lot of tech debt. SonarQube had been running for over a year, but now that it was visualized one engineer took it upon them self to fix almost 200 hours of tech debt in a couple of days. Instant win.</li>
</ul>
</aside>
</section>
<section id="section-9" class="slide level1" data-background-image="static/map_help_faded.jpg">
<h1 data-background-image="static/map_help_faded.jpg"></h1>
<h2 id="dashboards-make-it-official">Dashboards make it official</h2>
<p>But be careful..</p>
<aside class="notes">
<ul>
<li>Dashboards make the metrics official, so show things that give value, but focus on what can be improved.</li>
<li>Dashboards can help us argue the case for spending resources on tech debt or new features.</li>
<li>But what management sees, they will measure us on. And metrics are almost never the answer for measuring people performance.</li>
</ul>
</aside>
</section>
<section id="the-golden-path" class="slide level1" data-background-image="static/golden_path.jpg">
<h1 data-background-image="static/golden_path.jpg">The Golden Path</h1>
<aside class="notes">
<ul>
<li>Too much freedom, can be a bad thing if it means that you have to create your entire deployment setup manually.</li>
<li>So how much freedom is enough?</li>
</ul>
</aside>
</section>
<section id="section-10" class="slide level1" data-background-image="static/golden_path_faded.jpg">
<h1 data-background-image="static/golden_path_faded.jpg"></h1>
<h2 id="the-open-platform">The open platform</h2>
<p>We could just provide the tools and let everyone compose their own automations</p>
<aside class="notes">
<ul>
<li>We could have just provided a bunch of services for people to use.</li>
<li>Freedom to choose from all the tools</li>
<li>Could be nice for experienced DevOps teams</li>
<li>Less dependent on the Platform team</li>
<li>Huge cost in on-boarding for inexperienced teams though</li>
<li>Basically what AWS does and it’s not exactly a Delivery Platform</li>
</ul>
</aside>
</section>
<section id="section-11" class="slide level1" data-background-image="static/golden_path_faded.jpg">
<h1 data-background-image="static/golden_path_faded.jpg"></h1>
<h2 id="the-golden-path-1">The Golden Path</h2>
<p>Provide a default set of tools with batteries included</p>
<aside class="notes">
<ul>
<li>Instead we could provide a default set of tools with batteries included, and this is in fact our third step.</li>
<li>Teams are free to work on code, rather than configuration</li>
<li>Teams are still free to customize their tooling</li>
<li>They gain the security of having support</li>
<li>On-boarding new engineers is much easier</li>
</ul>
</aside>
</section>
<section id="section-12" class="slide level1" data-background-image="static/golden_path_faded.jpg">
<h1 data-background-image="static/golden_path_faded.jpg"></h1>
<h2 id="the-golden-path-a-shopping-list">The Golden Path; a shopping list</h2>
<ul>
<li>A visual Pipeline</li>
<li>Managed secrets &amp; environment variables</li>
<li>Hardened base images</li>
<li>Monitoring with default metrics &amp; logging</li>
<li>Support</li>
</ul>
<aside class="notes">
<ul>
<li>So what do we need for this?</li>
<li>A visual Pipeline, like spinnaker or Gitlab or Tekton which can show us exactly what is currently happening in our delivery pipeline.</li>
<li>Managed secrets &amp; environment variables, automatically injected at runtime</li>
<li>Hardened base images for containers or VMs</li>
<li>Monitoring with default metrics &amp; logging</li>
<li>Support</li>
<li>Let’s look at a simple example at how we could onboard teams</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="example.yml">example.yml</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;Java&#39;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="at">  </span><span class="fu">application_name</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;dogfood-service&#39;</span></span></code></pre></div>
<aside class="notes">
<ul>
<li>So let’s opt in to the Platform by adding this example.yml file to our git repository.</li>
<li>It requires a type and a name for the app, that’s it.</li>
<li>When we commit this file, a simple jenkins build is configured, along with deployment of the artifact and a container to k8s.</li>
<li>Everything we don’t see here is set by default.</li>
</ul>
</aside>
</section>
<section id="is-nice-yes" class="slide level1">
<h1>Is nice, yes? 👍</h1>
<aside class="notes">
<ul>
<li>But how can we extend this?</li>
<li>Maybe I want to disable the SonarQube check?</li>
<li>Or change the health check url?</li>
<li>I want freedom damn it!</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="example.yml-1">example.yml</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="at">  …</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="at">  </span><span class="fu">healthchecks</span><span class="kw">:</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="at">    </span><span class="fu">liveness</span><span class="kw">:</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a><span class="at">      </span><span class="fu">http</span><span class="kw">:</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a><span class="at">        </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /_/custom_health_path</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a><span class="at">  </span><span class="fu">ingress</span><span class="kw">:</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">host</span><span class="kw">:</span><span class="at"> dogfood-custom.ingress.local</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true"></a><span class="at">  </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">target_port</span><span class="kw">:</span><span class="at"> </span><span class="dv">6969</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true"></a><span class="at">  </span><span class="fu">replicas</span><span class="kw">:</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true"></a><span class="at">    </span><span class="fu">maximum</span><span class="kw">:</span><span class="at"> </span><span class="dv">13</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true"></a><span class="at">    </span><span class="fu">minimum</span><span class="kw">:</span><span class="at"> </span><span class="dv">37</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true"></a><span class="at">  </span><span class="fu">SonarQube</span><span class="kw">:</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">enabled</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span></code></pre></div>
<aside class="notes">
<ul>
<li>Well this was actually a part of a k8s template</li>
<li>So we can drop straight into k8s. With full access to it’s powers.</li>
<li>This example is based on PaaS, which we used at Schibsted.</li>
<li>And for a k8s shop, this makes a lot of sense.</li>
<li>You might need a different way of doing this in your platform.</li>
<li>But this idea can be implemented in many ways as it relies on a simple concept</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="convention-over-configuration">Convention over configuration</h2>
<ul>
<li>Driving on an new road?</li>
<li>Eating in a new restaurant?</li>
<li>Talking to a new person?</li>
</ul>
<aside class="notes">
<ul>
<li>And the concept is convention over configuration.</li>
<li>What if you had to check a manual before: driving, eating or talking to someone?</li>
<li>Instead we rely on conventions</li>
<li>We know that driving on a road in Oslo is similar to most roads other roads.</li>
<li>This saves time, and makes us feel safe.</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="convention-over-configuration-1">Convention over configuration</h2>
<p>Not only user benefit from this</p>
<aside class="notes">
<ul>
<li>It makes a world of difference when:</li>
<li>Integrating tools</li>
<li>Figuring out what belongs where</li>
<li>Setting up dashboards</li>
<li>Naming conventions, between Github and Nexus for instance</li>
<li>You can just follow the name</li>
<li>If you know how we name things, you can find things without help.</li>
</ul>
</aside>
</section>
<section id="section-13" class="slide level1" data-background-image="static/challenge_conventions.jpg">
<h1 data-background-image="static/challenge_conventions.jpg"></h1>
<aside class="notes">
<ul>
<li>But don’t just blindly follow</li>
<li>Challenge the conventions when they seem wrong, that’s how they evolve</li>
</ul>
</aside>
</section>
<section id="section-14" class="slide level1" data-background-image="static/challenge_conventions_faded.jpg">
<h1 data-background-image="static/challenge_conventions_faded.jpg"></h1>
<p>Conventions should be like the golden path, not like a walled garden.</p>
<aside class="notes">
<ul>
<li>Conventions should be like the golden path, not like a walled garden.</li>
</ul>
</aside>
</section>
<section id="section-15" class="slide level1" data-background-image="static/winner.jpg">
<h1 data-background-image="static/winner.jpg"></h1>
<aside class="notes">
<ul>
<li>So, how do we know that we are winning?</li>
<li>How do we know our platform is useful?</li>
<li>We have to define our success metrics</li>
<li>interviews gave us status quo</li>
<li>We know a bit about how to layout our platform and what our users need.</li>
<li>But where do we want to go with this exactly?</li>
</ul>
</aside>
</section>
<section id="section-16" class="slide level1" data-background-image="static/winner_faded.jpg">
<h1 data-background-image="static/winner_faded.jpg"></h1>
<h2 id="defining-success-and-failure">Defining success (and failure)</h2>
<ul>
<li>Desired state</li>
<li>Incremental small goals</li>
<li>Monitor for red flags</li>
</ul>
<aside class="notes">
<ul>
<li>We should define a desired state, and this will be our step 4.</li>
<li>We reach this state by creating small well defined goals, to keep us motivated</li>
<li>Because a Delivery Platform is a constant work in progress</li>
<li>There is no real end goal, but rather a moving target which is the ‘desired state’</li>
<li>This means that staying motivated can be hard, as we’re always changing our goal. So savor the small victories.</li>
</ul>
</aside>
</section>
<section id="section-17" class="slide level1" data-background-image="static/winner_faded.jpg">
<h1 data-background-image="static/winner_faded.jpg"></h1>
<h2 id="monitor-red-flags">Monitor red flags</h2>
<ul>
<li>Teams disabling features</li>
<li>Lack of team metrics improvement</li>
</ul>
<aside class="notes">
<ul>
<li>I also wrote monitor red flags on the previous slide. What could those be?</li>
<li>Teams start disabling a certain feature, why? Is it not working/helping?</li>
<li>Teams have no improvement on metrics, are they not using the tooling?</li>
<li>Is this mutiny, rebells? Probably not.</li>
<li>These are signs that the platform isn’t helping them</li>
<li>We need to understand why and adapt</li>
</ul>
</aside>
</section>
<section id="section-18" class="slide level1" data-background-image="static/winner_faded.jpg">
<h1 data-background-image="static/winner_faded.jpg"></h1>
<h2 id="success-isnt-just-about-what-developers-want">Success isn’t just about what developers want</h2>
<aside class="notes">
<ul>
<li>The organization also needs us to focus on security, which is often overlooked</li>
<li>People tend to think they have okay security, without any actual data or proof, and then they get hacked and have no idea what to do.</li>
<li>Like Mike Tyson says, “Everybody has a plan until they get punched in the face”</li>
<li>We can easily add security checks and alerts, and even automatically create pull request for bumping dependencies. We could also supply tooling for incident management.</li>
</ul>
</aside>
</section>
<section id="section-19" class="slide level1" data-background-image="static/lowhanging_fruit.jpg">
<h1 data-background-image="static/lowhanging_fruit.jpg"></h1>
<aside class="notes">
<ul>
<li>So, we have our status quo, we have our ‘desired state’</li>
<li>How do we start actually doing this?</li>
<li>First, we should use the tools ourselves.</li>
<li>Then onboard smaller, newer teams with less legacy</li>
<li>Usually they have less automation in place, maybe never even deployed to production?</li>
<li>They are often happy to get help, as they tend to be stretched for resources</li>
</ul>
</aside>
</section>
<section id="section-20" class="slide level1" data-background-image="static/lowhanging_fruit_faded.jpg">
<h1 data-background-image="static/lowhanging_fruit_faded.jpg"></h1>
<blockquote>
<p>Here I am wearing myself out to get a bunch of sour grapes that are not worth gaping for.</p>
</blockquote>
<p>- Aesop’s Fables</p>
<aside class="notes">
<ul>
<li>I’ll let you read this quote from Aesop’s Fables. <let them read></li>
<li>The story goes, that the fox eyed the biggest grapes hanging on the highest vine.</li>
<li>When he couldn’t reach them he belittled the grapes, as sour and not worth his time</li>
<li>This is a classic mistake of over-reaching, and it’s easy to do.</li>
<li>As on-boarding high profile teams gives the platform publicity and validation</li>
<li>But the stakes are high, and these teams don’t have time to spend on your WIP platform</li>
<li>We need to be stable for these teams to onboard</li>
</ul>
</aside>
</section>
<section id="section-21" class="slide level1" data-background-image="static/lowhanging_fruit_faded.jpg">
<h1 data-background-image="static/lowhanging_fruit_faded.jpg"></h1>
<h2 id="ask-for-volunteers-instead">Ask for volunteers instead</h2>
<p>Or prepare for a challenge!</p>
<aside class="notes">
<ul>
<li>So ask for volunteers, or prepare for a challenge!</li>
<li>In the early phases of creating the first proper platform at Schibsted, we were instructed to on-board certain teams</li>
<li>This sometimes worked, but also failed as some of them didn’t really need our tooling.</li>
<li>We got stressed as we saw this would fail, and pushed harder which gave the impression that we could give them orders.</li>
<li>This also triggered a few cognitive biases, so let’s just look at a few of those to be aware of.</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="loss-aversion">Loss aversion</h2>
<blockquote>
<p>We prefer avoiding losses to acquiring equivalent gains.</p>
</blockquote>
<aside class="notes">
<ul>
<li>&lt; let them read &gt;</li>
<li>We don’t like loosing things, even with a potential gain.</li>
<li>surprisingly, teams in dire need of migrating from unmaintained/buggy solutions, were sometimes reluctant.</li>
<li>They agreed that the situation was bad, but were never satisfied with our offering even though they agreed it was better.</li>
<li>They had invested a lot of time, in small nifty features.</li>
<li>These things didn’t seem important as they were minor things.</li>
<li>But our brains don’t work like that, we failed to pay attention, and they did not want to lose their useful features.</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="ikea-effect">IKEA effect</h2>
<blockquote>
<p>We tend to place a disproportionately high value on products we’ve partially created.</p>
</blockquote>
<aside class="notes">
<ul>
<li>&lt; let them read &gt;</li>
<li>As a kid, I always felt that dinner tasted better when I helped make it.</li>
<li>and keeping the previous team in mind, they had created this tooling themselves</li>
<li>the IKEA effect probably contributed to their reluctance to on-board</li>
</ul>
</aside>
</section>
<section id="section-22" class="slide level1" data-background-image="static/dogfooding.jpg">
<h1 data-background-image="static/dogfooding.jpg"></h1>
<aside class="notes">
<ul>
<li>But not all biases will work against us.</li>
<li>Let’s say you’re buying a new car. It’s a bit expensive, but really nice.</li>
<li>The sales person says: ‘I drive this car my self.’</li>
<li>Suddenly we trust their opinion more</li>
<li>This is often labeled as a logical fallacy, but there is some truth to this</li>
<li>Using the tools we make, is a great way to test, and improve them.</li>
<li>Dog fooding makes us both early warning system, and experts</li>
</ul>
</aside>
</section>
<section id="section-23" class="slide level1" data-background-image="static/dogfooding_faded.jpg">
<h1 data-background-image="static/dogfooding_faded.jpg"></h1>
<h2 id="be-aware-though">Be aware though</h2>
<p>You have insight into the tools in a way a user never will.</p>
<aside class="notes">
<ul>
<li>But be aware of your own advantage</li>
<li>You know the code and the integrations</li>
<li>You know where to report bugs and how to fix configuration</li>
<li>And speaking of reporting bugs, how should we handle support?</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="support">Support</h2>
<blockquote>
<p>We’ve started to on board teams and everything was going great! But suddenly they started asking questions, finding bugs and stealing all our time!</p>
</blockquote>
<p>- Some Platform Engineer probably</p>
<aside class="notes">
<ul>
<li>&lt; let them read the quote &gt;</li>
<li>This isn’t a direct quote, but it does illustrate a common problem</li>
<li>How do users report problems?</li>
<li>How do these reports find the responsible person/team?</li>
<li>And who follows up on reports that span several teams?</li>
<li>Is this the users responsibility, the teams, or someone else?</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="in-the-beginning-it-was-great">In the beginning it was great!</h2>
<ul>
<li>One Delivery team of 4 people</li>
<li>Artifactory, Travis and Spinnaker</li>
<li>We helped people on Slack</li>
</ul>
<aside class="notes">
<ul>
<li>In the early days at Schibsted we had one Delivery team of 4 people</li>
<li>We provided Artifactory, Travis, Spinnaker in a nice platform package</li>
<li>We helped people on Slack 24/7 and were extremely available</li>
<li>This worked great, we got lots of valuable feedback</li>
<li>Fast iterations, detailed bug reports, quick fixes</li>
<li>The user felt safe, because we were right there with them</li>
<li>It was Super fun!</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="but-it-doesnt-scale">But it doesn’t scale</h2>
<aside class="notes">
<ul>
<li>A few months later the magic was gone. We were exhausted.</li>
<li>Repeated questions, outdated documentation, constant distractions.</li>
<li>Some users were getting really frustrated, as their tickets weren’t being handled</li>
<li>We, were getting frustrated as we were getting nowhere</li>
</ul>
</aside>
</section>
<section class="slide level1">

<h2 id="so-what-had-changed">So what had changed?</h2>
<aside class="notes">
<ul>
<li>20 users had increased to 500</li>
<li>We were no longer picking only low hanging fruits, but everyone was free to onboard</li>
<li>And this is all perfectly natural and needs to be addressed.</li>
</ul>
</aside>
</section>
<section id="section-24" class="slide level1" data-background-image="static/white_knight.jpg">
<h1 data-background-image="static/white_knight.jpg"></h1>
<aside class="notes">
<ul>
<li>Suddenly; To our rescue, comes a white knight</li>
<li>We had recently gotten a dedicated manager</li>
<li>He helped us re-think our support setup</li>
</ul>
</aside>
</section>
<section id="section-25" class="slide level1" data-background-image="static/white_knight_faded.jpg">
<h1 data-background-image="static/white_knight_faded.jpg"></h1>
<h2 id="the-unified-support">The Unified Support</h2>
<ul>
<li><em>One</em> entrypoint</li>
<li>Slack only for dedicated support, and incidents</li>
<li>One call handles support routing</li>
</ul>
<aside class="notes">
<ul>
<li>He introduced the unified support</li>
<li>Letting users have one place to report bugs, for all services, all teams</li>
<li>At this time there were other teams handling some services. But users only see the front end. So that’s where they report the bugs.</li>
<li>Our previous Slack support channels became community channels instead.</li>
<li>And in these channels user started taking on support, huge help!</li>
<li>Finally we had support under control.</li>
</ul>
</aside>
</section>
<section id="to-summarize" class="slide level1">
<h1>To summarize</h1>
<ol type="1">
<li>Define your ‘Current State’</li>
</ol>
<ul>
<li>Interview people</li>
</ul>
<ol start="2" type="1">
<li>Get dashboards</li>
<li>Define a Golden Path</li>
</ol>
<ul>
<li>Rely on Convention over configuration</li>
</ul>
<ol start="4" type="1">
<li>Define your ‘Desired State’</li>
</ol>
<ul>
<li>Focus on low hanging fruits first</li>
<li>Observe and manage biases</li>
</ul>
<ol start="5" type="1">
<li>Have a single point of entry for support</li>
</ol>
<aside class="notes">
<ul>
<li>define your current state</li>
<li>Create dashboards with metrics</li>
<li>Define a golden path</li>
<li>Define your Desired State</li>
<li>Create a single point of entry for support</li>
</ul>
</aside>
</section>
<section id="section-26" class="slide level1" data-background-image="static/full_speed.jpg">
<h1 data-background-image="static/full_speed.jpg"></h1>
<aside class="notes">
<ul>
<li>I’d like to end with this</li>
<li>The pit stop was an analogy we used a lot at Schibsted</li>
<li>We were the pit stop crew</li>
<li>Developers were the drivers</li>
<li>They knew where to stop</li>
<li>We know who should fix what</li>
<li>Quick fix, quick win</li>
</ul>
</aside>
</section>
<section id="section-27" class="slide level1" data-background-image="static/full_speed_faded.jpg">
<h1 data-background-image="static/full_speed_faded.jpg"></h1>
<h2 id="questions">Questions?</h2>
<p>Twitter/Github: <span class="citation" data-cites="brujoand">@brujoand</span></p>
<p>PS: Piano.io is hiring in Oslo!</p>
<aside class="notes">
<ul>
<li>Feel free to share your experiences, ask questions or disagree with me on</li>
<li>Shoot me a message if you want to learn more about working at Piano</li>
</ul>
</aside>
</section>
    </div>
  </div>

  <script src="../reveal.js/dist/reveal.js"></script>

  // reveal.js plugins
  <script src="../reveal.js/plugin/notes/notes.js"></script>
  <script src="../reveal.js/plugin/search/search.js"></script>
  <script src="../reveal.js/plugin/zoom/zoom.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
        // Display controls in the bottom right corner
        controls: false,
        // Display the page number of the current slide
        slideNumber: "c/t",
        // Push each slide change to the browser history
        history: true,
        // Vertical centering of slides
        center: true,
        // Transition style
        transition: 'slide', // none/fade/slide/convex/concave/zoom
        // Transition style for full page slide backgrounds
        backgroundTransition: 'fade', // none/fade/slide/convex/concave/zoom

        // reveal.js plugins
        plugins: [
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    </body>
</html>
